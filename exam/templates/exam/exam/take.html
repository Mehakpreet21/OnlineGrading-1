{% extends "base.html" %}

{% block title %}Take Exam{% endblock %}

{% block head %}
<style>
    .button {
    background-color: #00000F; /* Green */
    border: none;
    color: white;
    padding: 16px 32px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    margin: 4px 2px;
    transition-duration: 0.4s;
    cursor: pointer;
  }
  .button1 {
    background-color: white;
    color: black;
    border: 2px solid #008CBA;
  }
  .button1:hover {
    background-color: #008CBA;
    color: white;
  }

  textarea {
    width: 100%;
  }
</style>
{% endblock %}



{% block header %}
<div class="jumbotron" style="background-color: #F5FFBD;">
  <div class="container">
    <h1 class="display-4">{{ exam.name }}</h1>
    <p class="lead">This exam was created {{ exam.created|date }} {{ exam.created|time }}</p>
    <p class="lead">Good Luck</p>
    <br>
  </div>
</div>
{% endblock %}


{% block content %}
<h2>Questions</h2>

<form method="POST">
  {% csrf_token %}

  {% for eq in questions %}
  <div class="form-group">

    <label for="{{q.pk}}">{{ eq.question.name }}</label>
    <p>{{ eq.question.detail }} <i>({{ eq.points }} points)</i> </p> <br>

    <input type="hidden" value="{{ eq.question.pk }}" name="answer[{{ forloop.counter }}]">

    <label for="q-{{ forloop.counter }}">Answer {{ forloop.counter }}: </label><br>
    <textarea id="q-{{ forloop.counter }}" name="answer[{{ forloop.counter }}]"></textarea>
  </div>
  <br>

  {% empty %}
      <p>No Questions.</p>
  {% endfor %}

  <br><br>
  <button type="submit" value="Submit Exam" class="button button1" name="submit">Submit Exam</button>
  <br>
</form>
{% endblock %}


{% block scripts %}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
$( document ).ready(function() {
  $('textarea').on('keydown', function(e) {
    if(e.key === 'Tab') {
      e.preventDefault();
      $(this).val($(this).val() + '    ')
   }
  })
});
</script>
{% endblock %}
